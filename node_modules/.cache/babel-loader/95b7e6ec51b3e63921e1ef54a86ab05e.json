{"ast":null,"code":"import _regeneratorRuntime from\"D:/Learn/react/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Learn/react/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Learn/react/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable react-hooks/exhaustive-deps */import{useState,useEffect}from'react';import axios from\"axios\";import{useHistory,useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProduct=function EditProduct(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var history=useHistory();var _useParams=useParams(),id=_useParams.id;var updateProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return axios.patch(\"http://localhost:5000/products/\".concat(id),{title:title,price:price});case 3:history.push(\"/\");case 4:case\"end\":return _context.stop();}}},_callee);}));return function updateProduct(_x){return _ref.apply(this,arguments);};}();useEffect(function(){getProductById();},[]);var getProductById=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get(\"http://localhost:5000/products/\".concat(id));case 2:response=_context2.sent;setTitle(response.data.title);setPrice(response.data.price);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function getProductById(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsxs(\"form\",{onSubmit:updateProduct,children:[\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Title\"}),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"text\",placeholder:\"Title\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}}),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"]}),\"\\xA0 \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"label\",{className:\"label\",children:\"Price\"}),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"text\",placeholder:\"Price\",value:price,onChange:function onChange(e){return setPrice(e.target.value);}}),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"]}),\"\\xA0 \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsxs(\"div\",{className:\"field\",children:[\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\",/*#__PURE__*/_jsx(\"button\",{className:\"button is-primary\",children:\"Update\"}),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"]}),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"]}),\"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"]});};export default EditProduct;","map":{"version":3,"names":["useState","useEffect","axios","useHistory","useParams","EditProduct","title","setTitle","price","setPrice","history","id","updateProduct","e","preventDefault","patch","push","getProductById","get","response","data","target","value"],"sources":["D:/Learn/react/frontend/src/components/EditProduct.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\r\nimport { useState, useEffect } from 'react'\r\nimport axios from \"axios\";\r\nimport { useHistory, useParams } from 'react-router-dom';\r\n \r\nconst EditProduct = () => {\r\n    const [title, setTitle] = useState('');\r\n    const [price, setPrice] = useState('');\r\n    const history = useHistory();\r\n    const { id } = useParams();\r\n \r\n    const updateProduct = async (e) => {\r\n        e.preventDefault();\r\n        await axios.patch(`http://localhost:5000/products/${id}`,{\r\n            title: title,\r\n            price: price\r\n        });\r\n        history.push(\"/\");\r\n    }\r\n \r\n    useEffect(() => {\r\n        getProductById();\r\n    }, []);\r\n \r\n    const getProductById = async () => {\r\n        const response = await axios.get(`http://localhost:5000/products/${id}`);\r\n        setTitle(response.data.title);\r\n        setPrice(response.data.price);\r\n    }\r\n \r\n    return (\r\n        <div>\r\n            <form onSubmit={ updateProduct }>\r\n                <div className=\"field\">\r\n                    <label className=\"label\">Title</label>\r\n                    <input \r\n                        className=\"input\"\r\n                        type=\"text\"\r\n                        placeholder=\"Title\"\r\n                        value={ title }\r\n                        onChange={ (e) => setTitle(e.target.value) }\r\n                    />\r\n                </div>\r\n \r\n                <div className=\"field\">\r\n                    <label className=\"label\">Price</label>\r\n                    <input \r\n                        className=\"input\"\r\n                        type=\"text\"\r\n                        placeholder=\"Price\"\r\n                        value={ price }\r\n                        onChange={ (e) => setPrice(e.target.value) }\r\n                    />\r\n                </div>\r\n \r\n                <div className=\"field\">\r\n                    <button className=\"button is-primary\">Update</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n \r\nexport default EditProduct"],"mappings":"uVAAA,gDACA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CAAqBC,SAArB,KAAsC,kBAAtC,C,wFAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACtB,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAA0BP,QAAQ,CAAC,EAAD,CAAlC,yCAAOQ,KAAP,eAAcC,QAAd,eACA,GAAMC,QAAO,CAAGP,UAAU,EAA1B,CACA,eAAeC,SAAS,EAAxB,CAAQO,EAAR,YAAQA,EAAR,CAEA,GAAMC,cAAa,4FAAG,iBAAOC,CAAP,oHAClBA,CAAC,CAACC,cAAF,GADkB,sBAEZZ,MAAK,CAACa,KAAN,0CAA8CJ,EAA9C,EAAmD,CACrDL,KAAK,CAAEA,KAD8C,CAErDE,KAAK,CAAEA,KAF8C,CAAnD,CAFY,QAMlBE,OAAO,CAACM,IAAR,CAAa,GAAb,EANkB,sDAAH,kBAAbJ,cAAa,4CAAnB,CASAX,SAAS,CAAC,UAAM,CACZgB,cAAc,GACjB,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,eAAc,6FAAG,8KACIf,MAAK,CAACgB,GAAN,0CAA4CP,EAA5C,EADJ,QACbQ,QADa,gBAEnBZ,QAAQ,CAACY,QAAQ,CAACC,IAAT,CAAcd,KAAf,CAAR,CACAG,QAAQ,CAACU,QAAQ,CAACC,IAAT,CAAcZ,KAAf,CAAR,CAHmB,wDAAH,kBAAdS,eAAc,2CAApB,CAMA,mBACI,uFACI,cAAM,QAAQ,CAAGL,aAAjB,2FACI,aAAK,SAAS,CAAC,OAAf,2GACI,cAAO,SAAS,CAAC,OAAjB,mBADJ,iGAEI,cACI,SAAS,CAAC,OADd,CAEI,IAAI,CAAC,MAFT,CAGI,WAAW,CAAC,OAHhB,CAII,KAAK,CAAGN,KAJZ,CAKI,QAAQ,CAAG,kBAACO,CAAD,QAAON,SAAQ,CAACM,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAf,EALf,EAFJ,sEADJ,sFAYI,aAAK,SAAS,CAAC,OAAf,2GACI,cAAO,SAAS,CAAC,OAAjB,mBADJ,iGAEI,cACI,SAAS,CAAC,OADd,CAEI,IAAI,CAAC,MAFT,CAGI,WAAW,CAAC,OAHhB,CAII,KAAK,CAAGd,KAJZ,CAKI,QAAQ,CAAG,kBAACK,CAAD,QAAOJ,SAAQ,CAACI,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAf,EALf,EAFJ,sEAZJ,sFAuBI,aAAK,SAAS,CAAC,OAAf,2GACI,eAAQ,SAAS,CAAC,mBAAlB,oBADJ,sEAvBJ,sDADJ,sCADJ,CA+BH,CAxDD,CA0DA,cAAejB,YAAf"},"metadata":{},"sourceType":"module"}